<!DOCTYPE html>
<html>
<head>
    <title>Deposit</title>
</head>
<body>
    <form action="/deposit" method="POST">
        <label for="acNoInput">Account Number:</label>
        <input type="number" placeholder="Account Number" name="ac_no" id="acNoInput">
        <!-- <button type="button" onclick="fetchName()">Get Name</button> -->
        <h4><p id="nameResult" color="red"></p></h4>
        <label for="amountInput">Deposit Amount:</label>
        <input type="number" name="amount" placeholder="Deposit Amount"><br>
        
        <input type="submit" value="Deposit">
    </form>
    <script>
        
            const id = document.getElementById('acNoInput').value;
            const nameResult = document.getElementById('nameResult');
            acNoInput.addEventListener('blur', () => {
            const id =acNoInput.value;
            
            
            // Make a Fetch API request to the backend
            fetch(`http://127.0.0.1:5000/api/getname?ac=${id}`)
                .then(response => response.json())
                .then(data => {
                    const nameResult = document.getElementById('nameResult');
                    if (data.name) {
                        nameResult.textContent = `Name: ${data.name}`;
                    } else {
                        nameResult.textContent = 'A/C invalid';
                    }
                })
                .catch(error => console.error(error));
        });
    </script>
</body>
</html>
